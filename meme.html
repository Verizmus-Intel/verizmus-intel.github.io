<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Verizmus Meme Forge üúÅüúèü¶Å</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0d0d0d;
      --fg:#f5f5f5;
      --accent:#f5c240;
      --accent-dark:#d8a62f;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      background:var(--bg);
      color:var(--fg);
      font-family:'Inter',sans-serif;
      padding:1rem;
    }
    header{margin-bottom:1rem;text-align:center}
    header h1{font-size:2.2rem;margin:.2rem 0;font-weight:600;letter-spacing:.5px}
    header p{margin:0;font-size:.95rem;color:#aaa}

    .forge{
      display:flex;
      flex-direction:column;
      gap:1rem;
      width:100%;
      max-width:680px;
      background:#151515;
      border:1px solid #222;
      border-radius:8px;
      padding:1.2rem;
      box-shadow:0 0 10px rgba(0,0,0,.6);
    }
    .controls{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:.8rem;
    }
    label{font-size:.75rem;text-transform:uppercase;color:#bbb;letter-spacing:.8px}
    input[type="text"],input[type="file"],select{
      width:100%;
      padding:.5rem .6rem;
      background:#1e1e1e;
      border:1px solid #333;
      border-radius:4px;
      color:var(--fg);
      font-size:.9rem;
    }
    canvas{width:100%;border:2px solid var(--accent);border-radius:6px}
    button{
      padding:.7rem 1.5rem;
      background:var(--accent);
      color:#000;
      font-weight:600;
      border:none;
      border-radius:4px;
      cursor:pointer;
      transition:.2s background;
    }
    button:hover{background:var(--accent-dark)}
    @media(max-width:600px){
      .controls{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <header>
    <h1>VERIZMUS MEME FORGE</h1>
    <p>Create & download weaponised memes in seconds.</p>
  </header>

  <section class="forge">
    <canvas id="canvas" width="800" height="800"></canvas>

    <div class="controls">
      <div>
        <label for="topText">Top Text</label>
        <input id="topText" type="text" placeholder="TOP TEXT">
      </div>
      <div>
        <label for="bottomText">Bottom Text</label>
        <input id="bottomText" type="text" placeholder="BOTTOM TEXT">
      </div>
      <div>
        <label for="textSize">Font Size</label>
        <select id="textSize">
          <option value="32">32</option>
          <option value="40" selected>40</option>
          <option value="48">48</option>
          <option value="56">56</option>
          <option value="64">64</option>
        </select>
      </div>
      <div>
        <label for="imageLoader">Upload Image</label>
        <input type="file" id="imageLoader" accept="image/*">
      </div>
    </div>
    <button id="download">Download Meme</button>
  </section>

  <p style="margin-top:1.2rem;font-size:.85rem"><a href="index.html" style="color:var(--accent);text-decoration:none">‚Üê Back to Main Page</a></p>

<script>
const canvas=document.getElementById('canvas');
const ctx=canvas.getContext('2d');
const topTextInput=document.getElementById('topText');
const bottomTextInput=document.getElementById('bottomText');
const imageLoader=document.getElementById('imageLoader');
const downloadBtn=document.getElementById('download');
const textSizeSelect=document.getElementById('textSize');
let img=new Image();
img.crossOrigin='anonymous';
img.onload=drawMeme;
function drawMeme(){
 ctx.clearRect(0,0,canvas.width,canvas.height);
 const ratio=Math.min(canvas.width/img.width,canvas.height/img.height);
 const w=img.width*ratio;const h=img.height*ratio;
 ctx.drawImage(img,(canvas.width-w)/2,(canvas.height-h)/2,w,h);
 const fontSize=parseInt(textSizeSelect.value);
 ctx.fillStyle='#ffffff';
 ctx.strokeStyle='#000000';
 ctx.lineWidth=fontSize/10;
 ctx.textAlign='center';
 ctx.font=`bold ${fontSize}px Impact, sans-serif`;
 wrapText(topTextInput.value.toUpperCase(),canvas.width/2,fontSize,canvas.width-40,fontSize*1.2,false);
 wrapText(bottomTextInput.value.toUpperCase(),canvas.width/2,canvas.height-fontSize/2,canvas.width-40,fontSize*1.2,true);
}
function wrapText(text,x,y,maxWidth,lineHeight,fromBottom){
 const words=text.split(' ');let line='';const lines=[];
 words.forEach((word,i)=>{
  const test=line+word+' ';const metrics=ctx.measureText(test);
  if(metrics.width>maxWidth&&i>0){lines.push(line);line=word+' ';}else{line=test;}
 });lines.push(line);
 const startY=fromBottom?y-lineHeight*(lines.length-1):y;
 lines.forEach((l,i)=>{const lineY=startY+i*lineHeight;ctx.fillText(l,x,lineY);ctx.strokeText(l,x,lineY);});
}
[topTextInput,bottomTextInput,textSizeSelect].forEach(el=>el.addEventListener('input',drawMeme));
imageLoader.addEventListener('change',e=>{const reader=new FileReader();reader.onload=ev=>img.src=ev.target.result;reader.readAsDataURL(e.target.files[0]);});
downloadBtn.addEventListener('click',()=>{const link=document.createElement('a');link.download='verizmus-meme.png';link.href=canvas.toDataURL('image/png');link.click();});
img.src='https://picsum.photos/1200';
</script>
</body>
</html>
